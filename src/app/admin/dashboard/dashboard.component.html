<div class="dashboard-container">
  <!-- Sidebar -->
  <aside class="dashboard-sidebar">
    <div class="sidebar-header">
      <div class="sidebar-logo">
        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="32" height="32" rx="6" fill="#2563EB"/>
          <path d="M16 8L8 14V24H14V18H18V24H24V14L16 8Z" fill="white"/>
        </svg>
        <span class="sidebar-logo-text">Admin Panel</span>
      </div>
    </div>

    <nav class="sidebar-nav">
      <button 
        class="nav-item" 
        [class.active]="currentPage === 'overview'"
        (click)="navigateTo('overview')">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="7" height="7"></rect>
          <rect x="14" y="3" width="7" height="7"></rect>
          <rect x="14" y="14" width="7" height="7"></rect>
          <rect x="3" y="14" width="7" height="7"></rect>
        </svg>
        <span>Overview</span>
      </button>

      <button 
        class="nav-item" 
        [class.active]="currentPage === 'applications'"
        (click)="navigateTo('applications')">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
        <span>Applications</span>
      </button>

      <button 
        class="nav-item" 
        [class.active]="currentPage === 'jobs'"
        (click)="navigateTo('jobs')">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
          <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
        </svg>
        <span>Manage Jobs</span>
      </button>

      <button 
        class="nav-item" 
        [class.active]="currentPage === 'analytics'"
        (click)="navigateTo('analytics')">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="20" x2="18" y2="10"></line>
          <line x1="12" y1="20" x2="12" y2="4"></line>
          <line x1="6" y1="20" x2="6" y2="14"></line>
        </svg>
        <span>Analytics</span>
      </button>

      <button 
        class="nav-item" 
        [class.active]="currentPage === 'settings'"
        (click)="navigateTo('settings')">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M12 1v6m0 6v10M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h10m-17.36.36l4.24-4.24m4.24-4.24l4.24-4.24"></path>
        </svg>
        <span>Settings</span>
      </button>
    </nav>

    <div class="sidebar-footer">
      <button class="logout-button" (click)="logout()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        <span>Logout</span>
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="dashboard-main">
    <!-- Header -->
    <header class="dashboard-header">
      <div>
        <h1 class="header-title">Welcome back, Admin</h1>
        <p class="header-subtitle">Here's what's happening with your care services</p>
      </div>
      <div class="header-user">
        <div class="user-avatar">
          <span>A</span>
        </div>
        <div class="user-info">
          <p class="user-name">{{ adminEmail }}</p>
          <p class="user-role">{{ adminRole }}</p>
        </div>
      </div>
    </header>

    <!-- Content Area -->
    <div class="dashboard-content">
      <!-- Overview Stats -->
      <div class="stats-grid">
        <div class="stat-card" *ngFor="let stat of stats">
          <div class="stat-icon" [style.background-color]="stat.color + '15'">
            <svg *ngIf="stat.icon === 'users'" [attr.stroke]="stat.color" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
            <svg *ngIf="stat.icon === 'briefcase'" [attr.stroke]="stat.color" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
            </svg>
            <svg *ngIf="stat.icon === 'eye'" [attr.stroke]="stat.color" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
            <svg *ngIf="stat.icon === 'activity'" [attr.stroke]="stat.color" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2">
              <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
            </svg>
          </div>
          <div class="stat-content">
            <p class="stat-title">{{ stat.title }}</p>
            <div class="stat-value-row">
              <h3 class="stat-value">{{ stat.value }}</h3>
              <span class="stat-change" [class.positive]="stat.trend === 'up'">{{ stat.change }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Analytics Section with Graphs -->
      <div class="analytics-section">
        <div class="section-header">
          <div>
            <h2 class="section-title">Site Analytics</h2>
            <p class="section-subtitle">Performance overview for the last 7 days</p>
          </div>
          <button class="view-all-button" (click)="viewAnalytics()">View Full Analytics</button>
        </div>

        <div class="analytics-grid">
          <!-- Visitors Chart -->
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Visitors Trend</h3>
              <span class="chart-value">1,234 <span class="trend-badge positive">+15%</span></span>
            </div>
            <div class="line-chart">
              <svg viewBox="0 0 300 120" class="chart-svg">
                <defs>
                  <linearGradient id="lineGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#2563EB;stop-opacity:0.3" />
                    <stop offset="100%" style="stop-color:#2563EB;stop-opacity:0" />
                  </linearGradient>
                </defs>
                <path d="M 0,80 L 50,70 L 100,75 L 150,50 L 200,55 L 250,35 L 300,20" 
                      fill="url(#lineGradient)" stroke="none"/>
                <path d="M 0,80 L 50,70 L 100,75 L 150,50 L 200,55 L 250,35 L 300,20" 
                      fill="none" stroke="#2563EB" stroke-width="3"/>
              </svg>
            </div>
            <div class="chart-labels">
              <span>Mon</span>
              <span>Tue</span>
              <span>Wed</span>
              <span>Thu</span>
              <span>Fri</span>
              <span>Sat</span>
              <span>Sun</span>
            </div>
          </div>

          <!-- Page Views Chart -->
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Page Views</h3>
              <span class="chart-value">5,678 <span class="trend-badge positive">+18%</span></span>
            </div>
            <div class="bar-chart">
              <div class="bar-group">
                <div class="bar" style="height: 60%"></div>
                <span class="bar-label">Mon</span>
              </div>
              <div class="bar-group">
                <div class="bar" style="height: 75%"></div>
                <span class="bar-label">Tue</span>
              </div>
              <div class="bar-group">
                <div class="bar" style="height: 65%"></div>
                <span class="bar-label">Wed</span>
              </div>
              <div class="bar-group">
                <div class="bar" style="height: 90%"></div>
                <span class="bar-label">Thu</span>
              </div>
              <div class="bar-group">
                <div class="bar" style="height: 85%"></div>
                <span class="bar-label">Fri</span>
              </div>
              <div class="bar-group">
                <div class="bar" style="height: 70%"></div>
                <span class="bar-label">Sat</span>
              </div>
              <div class="bar-group">
                <div class="bar" style="height: 55%"></div>
                <span class="bar-label">Sun</span>
              </div>
            </div>
          </div>

          <!-- Traffic Sources -->
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Traffic Sources</h3>
            </div>
            <div class="sources-chart">
              <div class="source-item">
                <div class="source-info">
                  <span class="source-dot" style="background: #2563EB"></span>
                  <span class="source-name">Direct</span>
                </div>
                <span class="source-percentage">45%</span>
              </div>
              <div class="source-item">
                <div class="source-info">
                  <span class="source-dot" style="background: #10B981"></span>
                  <span class="source-name">Google</span>
                </div>
                <span class="source-percentage">30%</span>
              </div>
              <div class="source-item">
                <div class="source-info">
                  <span class="source-dot" style="background: #F59E0B"></span>
                  <span class="source-name">Social</span>
                </div>
                <span class="source-percentage">15%</span>
              </div>
              <div class="source-item">
                <div class="source-info">
                  <span class="source-dot" style="background: #8B5CF6"></span>
                  <span class="source-name">Referral</span>
                </div>
                <span class="source-percentage">10%</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Applications -->
      <div class="applications-section">
        <div class="section-header">
          <h2 class="section-title">Recent Applications</h2>
          <button class="view-all-button" (click)="viewAllApplications()">View All</button>
        </div>

        <div class="applications-table">
          <table>
            <thead>
              <tr>
                <th>Applicant Name</th>
                <th>Position</th>
                <th>Applied</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let application of recentApplications">
                <td>
                  <div class="applicant-cell">
                    <div class="applicant-avatar">{{ application.name.charAt(0) }}</div>
                    <span>{{ application.name }}</span>
                  </div>
                </td>
                <td>{{ application.position }}</td>
                <td>{{ application.date }}</td>
                <td>
                  <span class="status-badge" [class.new]="application.status === 'New'" [class.reviewed]="application.status === 'Reviewed'" [class.interview]="application.status === 'Interview'">
                    {{ application.status }}
                  </span>
                </td>
                <td>
                  <button class="action-button" (click)="viewApplication(application.id)">View</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
</div>