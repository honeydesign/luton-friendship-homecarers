<section class="testimonials-section" [class.visible]="isVisible">
  <div class="testimonials-container">
    
    <!-- Section Header -->
    <div class="section-header">
      <span class="section-badge">Testimonials</span>
      <h2 class="section-title">What Clients Say About Us</h2>
      <p class="section-subtitle">
        Don't just take our word for it - hear from families who trust us with their loved ones' care
      </p>
    </div>

    <!-- Testimonials Carousel -->
    <div class="testimonials-carousel">
      <div class="carousel-wrapper">
        <!-- Navigation Buttons -->
        <button class="nav-button nav-prev" (click)="prevTestimonial()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>

        <!-- Testimonial Cards -->
        <div class="testimonials-track">
          <div 
            class="testimonial-card"
            *ngFor="let testimonial of testimonials; let i = index"
            [class.active]="i === currentIndex"
            [class.next]="i === (currentIndex + 1) % testimonials.length"
            [class.prev]="i === (currentIndex - 1 + testimonials.length) % testimonials.length">
            
            <div class="card-image">
              <img [src]="testimonial.image" [alt]="testimonial.name">
            </div>

            <div class="card-content">
              <div class="rating">
                <svg 
                  *ngFor="let star of getStars(testimonial.rating)"
                  width="18" 
                  height="18" 
                  viewBox="0 0 24 24" 
                  fill="#FBBF24" 
                  stroke="#FBBF24" 
                  stroke-width="1">
                  <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                </svg>
              </div>

              <p class="testimonial-text">{{ testimonial.text }}</p>

              <div class="testimonial-author">
                <h4 class="author-name">{{ testimonial.name }}</h4>
                <p class="author-role">{{ testimonial.role }}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Button Right -->
        <button class="nav-button nav-next" (click)="nextTestimonial()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>
      </div>

      <!-- Dots Navigation -->
      <div class="dots-navigation">
        <button 
          *ngFor="let testimonial of testimonials; let i = index"
          class="dot"
          [class.active]="i === currentIndex"
          (click)="goToTestimonial(i)">
        </button>
      </div>
    </div>

    <!-- Trust Stats -->
    <div class="trust-stats">
      <div class="stat-item">
        <div class="stat-number">500+</div>
        <div class="stat-label">Happy Families</div>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <div class="stat-number">4.9/5</div>
        <div class="stat-label">Average Rating</div>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <div class="stat-number">10+</div>
        <div class="stat-label">Years Experience</div>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <div class="stat-number">100%</div>
        <div class="stat-label">Satisfaction Rate</div>
      </div>
    </div>

  </div>

  <!-- Background Decoration -->
  <div class="bg-decoration decoration-1"></div>
  <div class="bg-decoration decoration-2"></div>
</section>